<!DOCTYPE html>
<html lang="en">
    <head>
          <title>Results</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <meta http-equiv="X-UA-Compatible" content="ie=edge">
          <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
          <link rel="stylesheet" href="CSS/result.css">
          <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(() => {


            $.get("getResults", everything => {
                // everything has everything in it. it looks like this {mostHatedPerson: ..., mostPickedOption: ..., mostHatedAge: ..., mostFavouredAge: ..., results: ...}



                // appends the text and image of the most hated person
                $("body").append(`<h1>Person you killed the most was a ${everything.mostHatedPerson.disability ? 'disabled' : ''} ${everything.mostHatedPerson.profession} ${everything.mostHatedPerson.gender} ${everything.mostHatedPerson.age}</h1><img src="Res/${everything.mostHatedPerson.age}${everything.mostHatedPerson.gender}${everything.mostHatedPerson.profession}${everything.mostHatedPerson.disability}.png" width="100" height="100">`);

                
                // appends the text and image of the most hated age, most favoured age, most picked option
                $("body").append(`<h1>Age you killed the most was ${everything.mostHatedAge}</h1><p></p><h1>Age you killed the least was ${everything.mostFavouredAge}</h1><p>If your favoured aged was the child, you can say that this was from a utilitarian perspective as the child has more of a potenital for to impact the future, plus has mre of a life to live and pssoibly more people will be impacted if the child was to die.<br>Choosing an adult over a child, shows Virtue. This is an ethical theory in which you judge people via charaterisics. In the terms of the autonomous car situation, the charateristics of an adult is they benefit the present and alot of the times are self sufficient.</p><h1>Most picked option was ${everything.mostPickedOption.toUpperCase()}${everything.mostPickedOption === 'a' ? ' meaning you\'re bAsic</h1><p>If your most picked option was A</p><br>' : everything.mostPickedOption === 'b' ? ' meaning you\'re Basic</h1><p> If your most picked option was B it shows that you have a deontological approach to making decisions. In regards to autonomous cars, the decision will be based on protecting yourself and passengers in the car, then if you do that minimise the damage of the outside. In simple terms a deontological approach is protect yourself first, than the rest.</p><br>' : ' meaning you\'re Utilitarian</h1><p>If your most picked option was C it shows that you have a utilitarian approach to life. What this means is as an individual you take into consideration the future and greater good, when making decisions. In relation to autonomous car, you will always choose to sacrifice yourself, as you believe that an action is correct as long as it promotes greater happiness for a greater number of people and that it will have a greater impact in the future. In this case choosing to save the life of others, even if means there will be a negative consequence if you do so.</p>'}`);

                // this is just all the results in case you wanted to display them all

                let count = 1;
                everything.results.forEach(result => {
                    $("body").append(`<strong>Question ${count}</strong><br><p>${"ID: "+result.id+", You chose option "+result.choice+", You took "+result.timer+" seconds"}</p><br>`)
                    count++;
                });

            })
        });


        /*google.charts.load('current', {'packages':['bar']});
        google.charts.setOnLoadCallback(drawStuff);

        function drawStuff() {
            let data = new google.visualization.arrayToDataTable([
                ['Opening Move', 'Percentage'],
                ["Saving yourself", 44],
                ["Old over young", 31],
                ["Young over old", 12],
                ["Groups over Individual", 10],
                ['Other', 3]
            ]);

            let options = {
                title: 'Results',
                width: 900,
                legend: { position: 'none' },
                chart: { title: 'Results',
                    subtitle: 'popularity by percentage' },
                bars: 'horizontal', // Required for Material Bar Charts.
                axes: {
                    x: {
                        0: { side: 'top', label: 'Percentage'} // Top x-axis.
                    }
                },
                bar: { groupWidth: "90%" }
            };

            let chart = new google.charts.Bar(document.getElementById('top_x_div'));
            chart.draw(data, options);
        }*/

        </script>
    </head>

  <body>

      <h1>
          <center>GENERATOR RESULTS</center>
      </h1>

      <div class="nav">
          <ul>
              <li><a href="homepage">HOME</a></li>
              <li><a href="newUser">LOGIN</a></li>
              <li><a href="scenario1">GENERATOR</a></li>
              <li><a href="results">RESULTS</a></li>
          </ul>
      </div>

      <div class="type-info">
          <h1>
              <span> Your Results </span>
          </h1>
      </div>

  </body>


</html>
