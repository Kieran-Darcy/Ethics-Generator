<!DOCTYPE html>
<html lang="en">
    <head>
          <title>Results</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <meta http-equiv="X-UA-Compatible" content="ie=edge">
          <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
          <link rel="stylesheet" href="CSS/result.css">
          <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(() => {

              function getMax(arr) {
                let max = null;
                for (let key in arr) {
                    if (max) {
                        if (arr[max] < arr[key]) {
                            max = key
                        }
                    } else {
                        max = key;
                    }
                }
                return max;
            }


            $.get("getResults", everything => {
                // everything has everything in it. it looks like this {mostHatedPerson: ..., mostPickedOption: ..., mostHatedAge: ..., mostFavouredAge: ..., results: ...}

                // appends the text and image of the most hated person
                $("body").append(`<h1>Person you killed the most was a ${everything.mostHatedPerson.disability ? 'disabled' : ''} ${everything.mostHatedPerson.profession} ${everything.mostHatedPerson.gender} ${everything.mostHatedPerson.age}</h1><img src="Res/${everything.mostHatedPerson.age}${everything.mostHatedPerson.gender}${everything.mostHatedPerson.profession}${everything.mostHatedPerson.disability}.png" width="100" height="100"><p>Ibraheem Type your text in here for this question</p>`);

                // appends the text and image of the most hated age, most favoured age, most picked option
                $("body").append(`<h1>Age you killed the most was ${everything.mostHatedAge}</h1><p>Ibraheem Type your text in here for this question</p><h1>Age you killed the least was ${everything.mostFavouredAge}</h1><p>Ibraheem Type your text in here for this question</p><h1>Most picked option was ${everything.mostPickedOption.toUpperCase()}</h1><p>Ibraheem Type your text in here for this question</p>`);

                everything.results.forEach(result => {
                  result.timer;
                })

                // this is just all the results in case you wanted to display them all
                everything.results.forEach(result => {
                    $("body").append(`<strong>Next Object Below</strong><br><p>${JSON.stringify(result)}</p><br>`)
                });

            })
        });


        /*google.charts.load('current', {'packages':['bar']});
        google.charts.setOnLoadCallback(drawStuff);

        function drawStuff() {
            let data = new google.visualization.arrayToDataTable([
                ['Opening Move', 'Percentage'],
                ["Saving yourself", 44],
                ["Old over young", 31],
                ["Young over old", 12],
                ["Groups over Individual", 10],
                ['Other', 3]
            ]);

            let options = {
                title: 'Results',
                width: 900,
                legend: { position: 'none' },
                chart: { title: 'Results',
                    subtitle: 'popularity by percentage' },
                bars: 'horizontal', // Required for Material Bar Charts.
                axes: {
                    x: {
                        0: { side: 'top', label: 'Percentage'} // Top x-axis.
                    }
                },
                bar: { groupWidth: "90%" }
            };

            let chart = new google.charts.Bar(document.getElementById('top_x_div'));
            chart.draw(data, options);
        }*/

        </script>
    </head>

  <body>

      <h1>
          <center>GENERATOR RESULTS</center>
      </h1>

      <div class="nav">
          <ul>
              <li><a href="homepage">HOME</a></li>
              <li><a href="scenario1">GENERATOR</a></li>
              <li><a href="stats">STATS</a></li>
              <li><a href="results">RESULTS</a></li>
          </ul>
      </div>

      <div class="type-info">
          <h1>
              <span> Your Results </span>
          </h1>
      </div>

  </body>


</html>